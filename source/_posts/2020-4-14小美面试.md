---
title: 2020/4/13小美面试
date: 2020-04-13 20:23:47
tags: 面试
---

<span>2020/4/14 美团基础研发面试</span>
今天的面试一言难尽啊
上来自我介绍面试官一听说我才学俩月，好像有点小诧异...
然后问了问 javascript 的数据类型，我说了有 number,string,boolean,undefined,null,然后面试官就问了应用数据类型，当时有印象但是一时间没想起来，很尴尬，后来一看是 object。感觉应该有点紧张--
然后就问了 this 是什么，当时回答了是指向当前引用的对象,（不知道怎么说--）面试官就说没听懂，出道题吧
然后开始了漫长的做题过程，苦不堪言----
面试官给的题如下：

```javascript
function a() {
  console.log(this.name)
}
a() //要求输出hello
```

当时第一感觉就是给个全局变量就好了
于是如下：

```javascript
function a() {
  console.log(this.name)
}
a()
var name = 'hello' //输出undefined
```

怀疑人生了，不知道错哪了，不知道是 this 理解有问题还是思路错了，非常紧张了。然后就试了试 call 改 this 指向，还是不对。于是乎感觉凉了就。等了一会面试官问有没有做出来，回答：没有。面试官就下一道了--。后面就是数组处理，拍平，排序，还有个忘了，然后卡拍平了，想到了递归，但是终归是菜，没写出来。再就是第三道题了，数组，先找出出现最多的字符，在输出对应字符串里的数字。准备不好，当时心态有点炸，没想到怎么找（应该是考数据结构用 hash），就耗了一段时间，然后面试回来就结束了这次面试。（第一道题做完，面试官就关了摄像头和麦克风，不知道去哪了--）
面试完再看第一题还是蒙，于是乎求助，在前端交流群开始问了，一开始群友也是纳闷，应该输出 hello 的，后来找到了问题。
node 环境和浏览器环境的区别，上面的代码在浏览器环境是可以输出 hello 的，但是在 node 环境输出不了，我突然意识到时浏览器和 node 顶层变量的问题了。当时确实没想到。在浏览器环境下封装了顶层变量 window，如果变量直接全局定义，会默认给 window，而 node 的顶层是 global，不会这样，<code>var</code>的变量不会挂载到 global，而 this 指向了 global，如果去掉 var，直接定义<code>name='hello'</code>,则可以正常输出。
后面的数组处理拍平算法在网上找了一段代码：

```javascript
//第一种，递归
function fn(arr) {
  let arr1 = []
  arr.forEach((val) => {
    if (val instanceof Array) {
      arr1 = arr1.concat(fn(val))
    } else {
      arr1.push(val)
    }
  })
  return arr1
}
//第二种reduce
function fn(arr) {
  return arr.reduce((prev, cur) => {
    return prev.concat(Array.isArray(cur) ? fn(cur) : cur)
  }, [])
}
```

而找出数组出现次数最多的元素，则用 hash 表就可以了
总结：还是多做算法题，要对基本的数据处理熟悉，要熟练，而且 js 的基础要牢靠，这次就是没考虑到 window 和 node 环境的不同，这个也映射到了，及后期 nodejs 文件的封装模块 module 里变量的定义。
